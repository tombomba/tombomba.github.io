/*
  Base styles for every page:
    - header
    - footer
    - most margins
    - pagebreak delimiter for homepage

// Mixins
@function bem($size: 1, $context: $line-height)
  @return ($size * $context) * 1em

@mixin font-ratio($size: 1, $context: $line-height)
    font-size: percentage($size)
    line-height: $context / $size

// Max column width
$max-width: 34em
$line-height: (30/18)

// Colors
$body-color:    #EAEAEA !default
$text-color:    #161616 !default

$border-dark:   #D1D1D1 !default
$border-light:  #FFF !default

$logo-color:    #F03
$select-color:  #FFC

$mix-color:     mix($body-color, $text-color, 50%) !default
$light-mix:     lighten($mix-color, 20%) !default
$dark-mix:      darken($mix-color, 20%) !default

$link-color:    blue !default
$visited-color: purple !default
$active-color:  orange !default

// Fonts
$serif: Georgia, Cambria, 'Century Schoolbook L', serif
$sans:  Verdana, 'Bitstream Vera Sans', Geneva, sans-serif
$system: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'
$titlef: 'Bungee', $sans

//-----------------------------------------------------------------------------

html
  box-sizing: border-box

*, *:before, *:after
  box-sizing: inherit

@-ms-viewport
  width: device-width

body
  background-color: $body-color
  color: $text-color

  text-rendering: optimizeSpeed
  -ms-text-size-adjust: auto
  -webkit-text-size-adjust: auto

  padding: 0 1em

ul, ol
  margin-left: bem(1)

ul
  list-style-type: disc

a
  text-decoration: underline
  text-decoration-skip-ink: auto
  &:link
    color: $link-color
  &:visited
    color: $visited-color
  &:hover
    text-decoration: none
  &:active
    color: $active-color

::-moz-selection
    background: $select-color
::selection
    background: $select-color

hr
  margin: 0
  padding: 0
  width: 100%
  border-top: 1px solid $border-dark
  border-bottom: 1px solid $border-light

header[role="banner"]

  .wrap
    height: bem(2)
    display: flex
    align-items: center
    justify-content: space-between

  .homelink
    order: 1
    display: none
    @include font-ratio(18/16)
    a:link, a:visited
      text-decoration: none

  .titlelink
    order: 2
    flex: 1 1 60%
    font-size: bem(1)
    font-family: 'Bungee Shade', $system
    font-weight: 900
    color: $logo-color
    text-align: center
    a:link, a:visited
      color: $logo-color
      text-decoration: none
    a:hover
      text-decoration: none

  .datelink
    order: 3
    @include font-ratio(14/16)
    display: none

main

  article
    margin: bem(2) auto 0 auto
    max-width: $max-width
    @extend .clearfix

  aside
    margin-top: bem(2)

    .wrap
      display: flex
      margin-top: bem(1)
      &:first-of-type
        margin-top: bem(2)
      margin-left: auto
      margin-right: auto
      max-width: $max-width
      @extend .clearfix

    .meta
      flex: 1
      padding-right: 1em
      h2
        font-size: 100%
        font-weight: 400
      .datestamp
        @include font-ratio(14/16)
        white-space: nowrap
        a:link, a:visited
          color: $mix-color
          text-decoration: none
        a:hover
          text-decoration: underline

    .image
      position: relative
      width: 120px
      height: 80px
      background-repeat: no-repeat
      background-size: contain
      span
        position: absolute
        width: 100%
        height: 100%
        top: 0
        left: 0
        z-index: 1
        background-image: url('/assets/img/shim.gif')

footer
  margin-top: bem(2)
  .wrap
    max-width: $max-width
    margin: bem(0.5) auto
  .nav
    list-style-type: none
    text-align: center
    li
      display: inline
      padding-right: 0.5em
      &:not(:last-of-type):after
        content: "-"
        padding-left: 0.5em
        color: rgba($text-color, 0.4)

//-----------------------------------------------------------------------------

@media screen and (min-width: 40em)

  header[role="banner"]

    .homelink
      display: block
      flex-basis: 20%

    .datelink
      display: block
      flex-basis: 20%
      text-align: right

//-----------------------------------------------------------------------------

@media screen and (min-width: 64em)

  ul, ol
    margin-left: 0
