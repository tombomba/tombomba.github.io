---
title: "Archive"
excerpt: "A rolling ~365 days of posts"
is_archive: true
permalink: /archive/
---

{% capture yearlist %}
<ul class="toc phat">
{% assign scope = 31556926 -%}
{% assign today = site.posts.first.date | date: '%s' -%}
{% for p in site.posts %}
  {% assign current = p.date | date: '%s' -%}
  {% assign range = today | times: 1 |  minus: current -%}
  {% if scope > range %}
    {% assign t = p.title | default: 'Empty?!' | strip | normalize_whitespace | smartify | split: ' ' -%}
    {% assign sub = t.last | prepend: '!QQ!' -%}
    {% assign titlef = t | pop | push: sub | join: ' ' | replace: ' !QQ!', '&nbsp;' -%}
    <li>
      <h2><a href="{{ p.url | prepend: site.url }}" class="{{ iconstyle }}">{{ titlef }}</a></h2>
      <p>{{ p.excerpt | strip_html | normalize_whitespace | smartify }} <span class="dates">({{ p.date | date: "%-d %b" }})</span></p>
    </li>
    {% assign enddate = p.date -%}
  {% endif -%}
{% endfor -%}
</ul>
{% endcapture %}

{% assign startdate = site.posts.first.date -%}

{% assign startday = startdate | date: '%-d' -%}
{% assign startmonth = startdate | date: '%b' -%}
{% assign startyear = startdate | date: '%Y' -%}

{% assign endday = enddate | date: '%-d' -%}
{% assign endmonth = enddate | date: '%b' -%}
{% assign endyear = enddate | date: '%Y' -%}

<article>

  <header>
    <h1>{{ page.title }}</h1>
    <p>{{ endmonth }} {{ endday }}{% if endyear != startyear %},&nbsp;{{ endyear }}{% endif %}&ndash;{% if endmonth != startmonth %}{{ startmonth }}&nbsp;{% endif %}{{ startday }}, {{ startyear }}</p>
  </header>

  {{ yearlist }}

</article>
