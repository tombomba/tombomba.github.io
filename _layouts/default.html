<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="{{ site.url }}">
  <title>{% if page.is_home %}{{ site.title }}{% else %}{{ page.title }}{% endif %}</title>
  <meta name="description" content="{{ page.description | default: site.description | strip_html | strip | truncate: 140 | normalize_whitespace | xml_escape }}">
  <link rel="author" type="text/plain" href="{{ 'humans.txt' | absolute_url }}">
  {% if page.id %}<link rel="canonical" href="{{ page.url | default: '' | absolute_url }}">{% endif %}

  <!-- icons -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 105 55'><text y='.75em' font-size='75'>{{ page.emoji | default: site.favicon }}</text></svg>">

  <!-- rss (atom) feed -->
  <link rel="alternate" title="{{ site.title }}" type="application/atom+xml" href="{{ 'feed.xml' | absolute_url }}">

  <!-- facebook -->
  {% assign ogimage = page.media.fbog | default: page.media.image -%}
  {% if page.is_home %}{% assign ogdescription = site.description %}{% else %}{% assign ogdescription = page.tweet | default: page.excerpt %}{% endif -%}
  {% if page.is_post or page.is_page %}{% assign ogtweet = page.tweet | default: page.excerpt -%}{% else %}{% assign ogtweet = site.description %}{% endif -%}
  <meta property="og:title" content="{{ page.title | strip | strip_html | truncate: 120 | normalize_whitespace | xml_escape }}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:description" content="{{ ogdescription | strip | strip_html | truncate: 120 | normalize_whitespace | xml_escape }}">
  <meta property="og:site_name" content="{{ site.title }}">
  <meta property="og:type" content="blog">
  <meta property="og:image" content="{{ ogimage | default: 'bomtomba.jpg' | prepend: site.img }}">

  <!-- twitter  -->
  <meta name="twitter:title" content="{{ page.title | strip | strip_html | truncate: 120 | normalize_whitespace | xml_escape }}">
  <meta name="twitter:url" content="{{ page.url | absolute_url }}">
  <meta name="twitter:description" content="{{ ogdescription | strip | strip_html | truncate: 120 | normalize_whitespace | xml_escape }}">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@{{ site.socials }}">
  <meta name="twitter:creator" content="@{{ site.socials }}">
  <meta name="twitter:image:src" content="{{ ogimage | default: 'bomtomba.jpg' | prepend: site.img }}">

  <!-- css -->
  <link rel="stylesheet" href="{{ page.style | default: 'default' | prepend: site.css | append: '.css' }}?v={{ site.posts.first.date | date: '%j' }}">

  <!-- goog -->
  {% assign page_emoji = site.pages | map: 'emoji' | uniq -%}
  {% assign post_emoji = site.posts | map: 'emoji' | uniq -%}
  {% assign all_emoji = page_emoji | concat: post_emoji | uniq | join | strip | remove: ' ' -%}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Emoji:wght@700&display=swap&text={{ site.emoji }}{{ all_emoji }}">

</head>

<body>

  {{ content }}

</body>
</html>
