---
is_home: true
permalink: /index.html
---

{% for p in site.posts limit: 10 %}
  {% unless forloop.first %}<hr class="pagebreak">{% endunless -%}
  {% case p.layout -%}
    {% when 'note' %}{% include note-block.html page=p content=p.content is_home=true %}
    {% else %}{% include post-block.html page=p content=p.content is_home=true %}
  {% endcase -%}
{% endfor -%}

{% comment %}
{% assign p = site.posts.first -%}
{% case p.layout %}
  {% when 'note' %}{% include note-block.html page=p content=p.content is_home=true %}
  {% else %}{% include post-block.html page=p content=p.content is_home=true %}
{% endcase -%}

<hr class="pagebreak">

{% assign scope = 604800 -%}<!-- 1 week -->
{% assign today = site.posts.first.date | date: '%s' -%}

<aside>

  <div class="recent">
    <h2>More from this week:</h2>
    <ul class="ul-toc">
      {% for p in site.posts %}
        {% if p.id == site.posts.first.id %}{% continue %}{% endif -%}
        {% assign current = p.date | date: '%s' -%}
        {% assign range = today | times: 1 |  minus: current -%}
        {% if scope > range %}
          {% include toc.html title=p.title excerpt=p.excerpt tags=p.tags url=p.url %}
        {% else -%}
          {% break -%}
        {% endif -%}
      {% endfor -%}
    </ul>
  </div>

</aside>
{% endcomment -%}
