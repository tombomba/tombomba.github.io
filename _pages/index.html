---
style: homepage
is_home: true
permalink: /index.html
---
<article>
{% for p in site.posts limit: 7 %}
  <section>
    {% assign blurb = p.excerpt | strip | strip_html | normalize_whitespace | smartify -%}
    {% if p.fbog.match %}
      {% assign keyphrase = p.fbog.match | strip | normalize_whitespace | smartify %}
    {% else %}
      {% assign keyphrase = blurb | truncatewords: 3, '' | smartify %}
    {% endif -%}
    {% capture link %}<a href="{{ p.url | prepend: site.url }}">{{ keyphrase }}</a>{% endcapture -%}
    {% unless forloop.first %}<div class="hr pagebreak"></div>{% endunless -%}
    <div class="promo card"><!-- {{ p.excerpt | number_of_words | times: 1 }} words -->
      <div class="text">
        <p>{{ blurb | replace_first: keyphrase, link }}</p>
      </div>
    </div>
  </section>
{% endfor -%}
</article>

<aside class="archive">
  <div class="hr"></div>
  <div class="flexwrap">
    <ul class="datelist">
      {% assign curryr = site.posts.first.date | date: '%Y' -%}
      {% assign currmo = site.posts.first.date | date: '%-m' -%}
      {% assign currmo = 3 %}
      {% assign startmo = currmo | minus: 4 -%}
      {% assign prevyr = '' -%}
      {% for i in (startmo..currmo) %}
        {% assign month = i -%}
        {% if 1 > month %}
          {% assign month = month | plus: 12 %}
          {% assign year = curryr | minus: 1 %}
        {% else %}
          {% assign year = curryr %}
        {% endif -%}
        {% capture datestring %}1999-{{ month }}-01{% endcapture -%}
        {% if year != prevyr %}
          <li class="year"><a href="/{{ year }}/">{{ year }}</li>
        {% endif -%}
        <li><a href="{{ site.url }}/{{ year }}/{% if 9 > month %}0{% endif %}{{ month }}/">{{ datestring | date: '%b' }}</a></li>
        {% assign prevyr = year -%}
      {% endfor -%}
    </ul>
  </div>
</aside>
